(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(1073)}])},2165:function(a,b,c){"use strict";c.d(b,{Z:function(){return o}});var d=c(1799),e=c(9396),f=c(5893),g=c(7294),h=c(7536),i=c(4300),j=c(2393),k=c(9515),l=function(a){return(0,f.jsxs)("div",{className:"flex flex-col",children:[(0,f.jsx)("label",{htmlFor:"id",className:"block text-xs font-medium text-gray-500",children:"備考"}),(0,f.jsx)("input",(0,e.Z)((0,d.Z)({type:"text",id:"id",maxLength:200,className:"w-full flex-1 border-b border-dotted py-1 focus:border-b focus:border-solid focus:border-slate-500 focus:outline-none"},a.register("note")),{placeholder:"example note"})),a.errors.note&&(0,f.jsx)("span",{role:"alert",className:"block text-xs font-medium text-red-500",children:a.errors.note.message})]})},m=c(6181),n=c(6377),o=function(a){var b=(0,i.f)().login,c=(0,g.useState)(void 0),o=c[0],p=c[1],q=(0,h.cI)({defaultValues:{startTime:"09:00",endTime:"18:00",note:""}}),r=q.register,s=q.handleSubmit,t=q.setValue,u=q.setError,v=q.clearErrors,w=q.getValues,x=q.formState.errors,y=void 0!==o,z=function(c){var d={userId:a.user.id,date:a.currentDate,startTime:c.startTime,endTime:c.endTime,note:c.note};(0,j.xz)(d),p((0,j.t3)(b.user.id,a.currentDate)),(0,n.I)("".concat(y?"更新":"登録","が完了しました。")),void 0!==a.handleSubmitCallback&&a.handleSubmitCallback()},A=(0,k.w)(0,47).map(function(a){var b,c=!Number.isInteger(a/2);return"".concat(String(b=Math.floor(a/2)).padStart(2,"0"),":").concat(c?"30":"00")}),B="業務開始には業務終了よりも前の時間を入力してください。",C=function(a){if(w("startTime")>=w("endTime"))return a||u("startTime",{type:"custom",message:B}),!a||B;v(["startTime","endTime"])};return(0,g.useEffect)(function(){var c=(0,j.t3)(b.user.id,a.currentDate);p(c),void 0!==c&&(t("startTime",c.startTime),t("endTime",c.endTime),t("note",c.note))},[b.user.id,a.currentDate,t]),(0,f.jsxs)("form",{className:"flex flex-col gap-6",onSubmit:s(z),children:[(0,f.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,f.jsxs)("div",{className:"flex gap-3",children:[(0,f.jsxs)("div",{className:"flex-1",children:[(0,f.jsx)("label",{htmlFor:"start-time",className:"block text-xs font-medium text-gray-500",children:"業務開始"}),(0,f.jsx)("select",(0,e.Z)((0,d.Z)({id:"start-time",className:"w-full border-b border-dotted focus:border-solid focus:border-slate-500 focus:outline-none"},r("startTime",{validate:{fromToValidate:function(){return C(!0)}}})),{children:A.map(function(a,b){return(0,f.jsx)("option",{children:a},b)})})),x.startTime&&(0,f.jsx)("span",{role:"alert",className:"block text-xs font-medium text-red-500",children:x.startTime.message})]}),(0,f.jsxs)("div",{className:"flex-1",children:[(0,f.jsx)("label",{htmlFor:"end-time",className:"block text-xs font-medium text-gray-500",children:"業務終了"}),(0,f.jsx)("select",(0,e.Z)((0,d.Z)({id:"end-time",className:"w-full border-b border-dotted focus:border-solid focus:border-slate-500 focus:outline-none"},r("endTime",{validate:{fromToValidate:function(){return C(!1)}}})),{children:A.map(function(a,b){return(0,f.jsx)("option",{value:a,children:a},b)})})),x.endTime&&(0,f.jsx)("span",{role:"alert",className:"block text-xs font-medium text-red-500",children:x.endTime.message})]})]}),(0,f.jsx)("div",{children:(0,f.jsx)(l,{register:r,errors:x})})]}),(0,f.jsx)(m.Z,{text:y?"更新":"登録"})]})}},6181:function(a,b,c){"use strict";var d=c(5893),e=function(a){return(0,d.jsx)("input",{className:"cursor-pointer rounded bg-slate-500 p-1 text-xl font-bold text-white",type:"submit",value:a.text})};b.Z=e},4157:function(a,b,c){"use strict";var d=c(5893),e=function(a){return(0,d.jsx)("h1",{className:"text-xl font-black",children:a.title})};b.Z=e},6666:function(a,b,c){"use strict";c.d(b,{Z:function(){return o}});var d=c(5893),e=c(4300),f=c(1163),g=c(7294),h=function(){var a=(0,e.f)().login,b=(0,f.useRouter)();(0,g.useEffect)(function(){a.isAuthed&&b.isReady&&!a.isLogin&&b.push("/login")},[a.isAuthed,a.isLogin,b])},i=c(1664),j=c.n(i),k=c(3241),l=function(){var a=(0,e.f)().login,b=(0,f.useRouter)(),c=Object.values(k.Z).filter(function(b){return b.allowRoleList.some(function(b){return b.id===a.user.role.id})});return(0,d.jsx)("div",{className:"fixed bottom-0 h-12 w-full bg-slate-700 px-2 pb-1 text-center md:relative md:h-full md:w-1/6 md:pt-4",children:(0,d.jsx)("div",{className:"relative flex justify-between overflow-x-auto md:block",children:c.map(function(c,e){var f,g;return(0,d.jsx)("div",{className:"relative w-1/4 md:w-full",children:(0,d.jsx)(j(),{href:c.href(a.user),children:(0,d.jsxs)("a",{className:"flex flex-col items-center whitespace-nowrap p-2 transition duration-100 ease-in-out md:flex-row ".concat((f=c.href(a.user.id),g=c.path,b.asPath===f|| void 0!==g&&b.asPath.startsWith(g)?"hover:bg-gray-200 bg-white text-gray-900":"hover:bg-slate-600 text-slate-100")),"data-mdb-ripple":"true","data-mdb-ripple-color":"dark",children:[(0,d.jsx)("div",{className:"h-5 w-5 md:mr-2",children:(0,d.jsx)(c.icon,{})}),(0,d.jsx)("div",{className:"text-xs md:text-base",children:c.text})]})})},e)})})})},m=l,n=function(a){var b=a.children,c=(0,e.f)().login;return h(),(0,d.jsx)(d.Fragment,{children:c.isLogin&&(0,d.jsx)("div",{className:"h-screen w-screen bg-white",children:(0,d.jsxs)("div",{className:"flex h-full w-full flex-col justify-between md:flex-row md:justify-start",children:[(0,d.jsx)(m,{}),(0,d.jsx)("div",{className:"box-content flex flex-col overflow-y-auto md:w-5/6",children:(0,d.jsx)("div",{className:"mb-16 px-4 pt-6 md:mb-0",children:b})})]})})})},o=n},2393:function(a,b,c){"use strict";c.d(b,{Y2:function(){return h},"_Y":function(){return i},oe:function(){return g},t1:function(){return j},t3:function(){return k},xz:function(){return l}});var d=c(1743),e=c(8423),f={users:[{id:"admin",name:"Adminユーザ",role:e.Z.ADMIN},{id:"test",name:"テストユーザ",role:e.Z.CLIENT},{id:"example",name:"サンプルユーザ",role:e.Z.CLIENT},],timeRecords:[{userId:"test",date:new Date("2022-8-1"),startTime:"09:00",endTime:"17:00",note:"私用のため早退"},{userId:"test",date:new Date("2022-8-4"),startTime:"09:00",endTime:"18:00"},{userId:"test",date:new Date("2022-8-5"),startTime:"09:00",endTime:"18:00"},]},g=function(a){return f.users.find(function(b){return b.id===a})},h=function(){return f.users},i=function(a){f.users.push(a)},j=function(a){return f.timeRecords.filter(function(b){return b.userId===a})},k=function(a,b){return f.timeRecords.find(function(c){return c.userId===a&&(0,d.Z)(c.date,b)})},l=function(a){var b=k(a.userId,a.date);b?(b.startTime=a.startTime,b.endTime=a.endTime):f.timeRecords.push(a)}},9515:function(a,b,c){"use strict";c.d(b,{w:function(){return d}});var d=function(a,b){return Array.from({length:b-a+1},function(b,c){return c+a})}},1412:function(a,b,c){"use strict";c.d(b,{Ak:function(){return i},WP:function(){return h},mC:function(){return f},tl:function(){return g}});var d=c(8085),e=c(944),f=function(a){return void 0===a?"":(0,d.Z)(a,"yyyy年MM月dd日",{locale:e.Z})},g=function(a){return void 0===a?"":(0,d.Z)(a,"yyyy年MM月",{locale:e.Z})},h=function(a){return void 0===a?"":(0,d.Z)(a,"d日(E)",{locale:e.Z})},i=function(a){return void 0===a?"":(0,d.Z)(a,"HH:mm:ss",{locale:e.Z})}},1073:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return l}});var d=c(5893),e=c(7294),f=c(1412),g=function(a){var b=(0,e.useState)(a.currentDate),c=b[0],g=b[1];return(0,e.useEffect)(function(){setInterval(function(){g(new Date)},1e3)},[]),(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-xl bg-slate-800 py-2 text-white",children:[(0,d.jsx)("div",{className:"text-sm",children:(0,f.mC)(c)}),(0,d.jsx)("div",{className:"text-4xl",children:(0,f.Ak)(c)})]})})},h=c(2165),i=c(4157),j=c(6666),k=c(4300),l=function(){var a=(0,k.f)().login,b=(0,e.useState)(new Date)[0];return(0,d.jsx)(j.Z,{children:(0,d.jsxs)("div",{className:"flex w-full flex-col gap-6",children:[(0,d.jsx)(g,{currentDate:b}),(0,d.jsx)(i.Z,{title:"".concat((0,f.mC)(b),"の勤怠")}),(0,d.jsx)(h.Z,{user:a.user,currentDate:b})]})})}}},function(a){a.O(0,[664,894,771,774,888,179],function(){var b;return a(a.s=8312)}),_N_E=a.O()}])